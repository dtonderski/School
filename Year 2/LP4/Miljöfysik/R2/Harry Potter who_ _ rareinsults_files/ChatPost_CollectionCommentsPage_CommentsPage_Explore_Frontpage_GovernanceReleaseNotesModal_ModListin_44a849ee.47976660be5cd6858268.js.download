(window.webpackJsonp=window.webpackJsonp||[]).push([["ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListin~44a849ee"],{"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,s){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),i=s("./src/lib/addQueryParams/index.ts"),c=s("./src/lib/classNames/index.ts"),l=s("./src/lib/forceHttps/index.ts"),d=s("./src/reddit/constants/tracking.ts"),h=s("./src/reddit/models/Media/index.ts"),u=s("./src/reddit/selectors/user.ts"),p=s("./src/reddit/components/Media/EmbedBox/index.m.less"),m=s.n(p);const g=Object(a.b)(()=>Object(o.c)({isNightmodeOn:u.T}));t.a=g(e=>{const t={responsive:"true",is_nightmode:e.isNightmodeOn},s=e.isResponsive?Object(i.a)(Object(l.a)(e.source),t):Object(l.a)(e.source),n={overflow:"hidden"};return n.width=e.width&&!e.fullWidth?`${e.width}px`:"100%",e.showCentered&&(n.margin="0 auto"),e.isListing||(n.maxHeight=`${h.e}px`),r.a.createElement("iframe",{className:Object(c.a)(d.b,m.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,scrolling:"no",src:s,style:n,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,s){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",unblurButtonContainer:"c1UAj_LbgdGBuJFlKbnrQ",unblurButton:"_2Ws3wFSVPzJhnW46FsoxLv"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,s){"use strict";s.d(t,"b",function(){return E}),s.d(t,"c",function(){return j});var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/react-router-dom/es/index.js"),i=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),l=s("./src/lib/forceHttps/index.ts"),d=s("./src/lib/permalinkToOverlayLocation/index.ts"),h=s("./src/reddit/components/PlayButton/index.tsx"),u=s("./src/reddit/constants/elementClassNames.ts"),p=s("./src/reddit/i18n/components.tsx"),m=s("./src/reddit/i18n/utils.ts"),g=s("./src/reddit/models/Media/index.ts"),x=s("./src/reddit/selectors/posts.ts"),f=s("./src/reddit/selectors/user.ts"),b=s("./src/reddit/constants/tracking.ts"),w=s("./src/reddit/components/Media/ImageBox/index.m.less"),y=s.n(w),O=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const E=(e,t)=>{return e/t>16/9},j=e=>e>2*g.e,v=e=>{const t=Object(c.a)(y.a.image,u.h,e.className,{[y.a.mShowCentered]:e.showCentered,[y.a.mShowBlurred]:e.shouldBlur}),s={};return e.showFull||e.isTall||(s.maxHeight=`${g.i}px`),e.isListing||e.isTall&&j(e.height)||(s.maxHeight=`${g.e}px`),e.isExpando&&e.maxHeight&&(s.maxHeight=`${e.maxHeight}px`),e.isExpando&&e.maxWidth&&(s.maxWidth=`${e.maxWidth}px`),r.a.createElement("img",{alt:Object(m.c)("Post image"),className:t,src:e.src,style:s})},_=e=>{const t={};return(!e.showFull&&E(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight=`${g.i}px`,e.shouldBlur&&(t.maxWidth=E(e.height,e.width)?`${g.x}px`:`${e.width}px`)),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight=`${e.maxHeight}px`),r.a.createElement("div",{className:Object(c.a)(y.a.container,e.className),style:t},e.children)},C=Object(i.c)({postPermalink:x.J,shouldOpenPostInNewTab:f.V}),P=Object(a.b)(C);t.a=P(e=>e.outboundUrl?r.a.createElement("a",{href:e.outboundUrl,target:"_blank"},L(e)):e.isListing&&e.postPermalink?r.a.createElement(o.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(d.a)(e.postPermalink)},L(e)):L(e));const T=(e,t)=>r.a.createElement(v,{className:Object(c.a)(t.imageClassName,{[b.b]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(l.a)(t.source),width:t.width}),L=e=>{var t=e.onClick,s=O(e,["onClick"]);const n=E(s.height,s.width),a=j(s.height)&&n;return r.a.createElement(_,Object.assign({},s,{className:`${n?`${b.b} `:""}${s.className||""}`}),s.isListing?r.a.createElement("div",{className:s.contentImageClassName},T(n,s)):r.a.createElement("a",{href:s.originalSource,onClick:t,style:a?{maxWidth:"50%"}:{},target:"_blank"},T(n,s)),s.isListing&&!s.showFull&&s.height>g.i&&E(s.height,s.width)&&r.a.createElement("div",{className:y.a.seeMore},r.a.createElement(p.c,null,"see full image")),s.isVideoThumbnail&&r.a.createElement(h.a,{onClick:t}),s.shouldBlur&&!s.isVideoThumbnail&&!s.isListing&&r.a.createElement("div",{className:y.a.unblurButtonContainer},r.a.createElement("button",{className:y.a.unblurButton},Object(m.c)(`Click to see${s.isNSFW?Object(m.b)("nsfw"," nsfw"):""}${s.isSpoiler?Object(m.b)("spoiler"," spoiler"):""}`))))}},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,s){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/lib/classNames/index.ts"),o=s("./src/lib/forceHttps/index.ts"),i=s("./src/reddit/models/Media/index.ts"),c=s("./src/reddit/components/Media/MediaContainer/index.m.less"),l=s.n(c);const d=e=>{const t=e.showFull?{maxHeight:`${e.height}px`}:{maxHeight:`${Math.min(e.maxHeight||i.i,e.height)}px`},s=Object.assign({},t,e.showFull&&!e.showCentered?{maxWidth:`${e.width}px`}:{},e.blurSrc?{overflow:"hidden"}:{}),n=e.blurSrc?r.a.createElement("img",{className:l.a.blur,src:Object(o.a)(e.blurSrc)}):null,c=((e,t,s)=>s?100*s:e&&t?e/t*100:100*i.c)(e.height,e.width,e.forceAspectRatio);return r.a.createElement("div",{className:Object(a.a)(l.a.container,e.className),"data-click-id":"media",style:s},n,r.a.createElement("div",{className:l.a.spacer,style:{paddingBottom:`${c}%`}}),r.a.createElement("div",{className:Object(a.a)(l.a.wrapper,{[l.a.mColoredBackground]:!e.blurSrc})},e.children))};t.a=(e=>{if(!e.isListing&&!e.alwaysWrapMedia||e.isExpando)return r.a.Children.only(e.children)||r.a.createElement("div",null);return r.a.createElement(d,Object.assign({},e))})},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,s){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/throttle.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),l=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/actions/video.ts"),h=s("./src/reddit/constants/tracking.ts"),u=s("./src/reddit/models/Media/index.ts"),p=s("./src/reddit/selectors/user.ts"),m=s("./src/reddit/selectors/video.ts");const g=100,x=g/2/1e3;var f=s("./src/lib/forceHttps/index.ts"),b=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};var w=class extends o.a.Component{constructor(e){super(e),this.toggle=(e=>{if(e){const e=this.play();e&&e.catch&&e.catch(()=>{})}else this.pause()}),this.ref=null}play(){if(this.ref&&this.ref.play)return this.ref.play()}pause(){if(this.ref&&this.ref.pause)return this.ref.pause()}componentDidMount(){this.initEventHandlers(),this.toggle(!this.props.shouldPause&&(this.props.autoplay||this.props.isNotCardView))}componentWillUnmount(){this.destroyEventHandlers()}componentWillReceiveProps(e){this.props.shouldPause!==e.shouldPause&&this.toggle(!e.shouldPause&&(e.autoplay||e.isNotCardView))}destroyEventHandlers(){this.ref&&this.cancelBufferingDetector&&this.cancelBufferingDetector()}initEventHandlers(){this.ref&&this.props.onBufferingChange&&(this.cancelBufferingDetector=function(e,t){let s=!1,n=!1;const r=()=>s=!0,a=()=>n=!0;e.addEventListener("loadeddata",r),e.addEventListener("play",a),e.addEventListener("playing",a);let o=!1,i=0,c=0;const l=window.setInterval(()=>{if(c=e.currentTime,n)return n=!1,void(i=c);if(e.paused||e.seeking||!s)return void(i=c);const r=o;4===e.readyState?o=!1:!o&&c>=i&&c<i+x?o=!0:o&&c>=i&&c>i+x&&(o=!1),i=c,r!==o&&t(o)},g);return()=>{clearInterval(l),e.removeEventListener("playing",a),e.removeEventListener("play",a),e.removeEventListener("loadeddata",r)}}(this.ref,this.props.onBufferingChange))}render(){const e=this.props,t=(e.autoplay,e.isListing,e.isNotCardView,e.onBufferingChange,e.shouldLoad,e.shouldPause,e.showCentered,e.showFull,e.source,b(e,["autoplay","isListing","isNotCardView","onBufferingChange","shouldLoad","shouldPause","showCentered","showFull","source"]));return o.a.createElement("video",Object.assign({},t,{ref:e=>{this.ref=e},muted:!0}),o.a.createElement("source",{src:Object(f.a)(this.props.source)}))}},y=s("./src/reddit/components/Media/VideoBox/index.m.less"),O=s.n(y);const E=Object(c.c)({autoplayPref:p.b,consumed:m.b,loadTimes:m.f,metadata:m.g,started:m.i}),j=Object(i.b)(E,(e,{postId:t})=>({onBufferingChanged:s=>{e(s?d.w(t):d.I(t))},onLoadStarted:s=>e(d.v(t,s)),onMetadataReceived:s=>e(d.H({metadata:s,postId:t})),onPaused:()=>e(d.D({postId:t})),onPlayable:s=>e(d.E(t,s)),onPlaying:()=>e(d.G(t)),onWatched:()=>e(d.x(t)),onViewableImpression:()=>e(d.B(t)),onFullyViewableImpression:()=>e(d.A(t)),onPlayedWithSound:()=>e(d.F(t)),onWatchedPercent:s=>e(d.O(s,t))}));t.a=j(class extends o.a.Component{constructor(){super(...arguments),this.percentTriggered=0,this._checkForConsumption=r()(e=>{if(this.props.consumed)return;const t=e.target;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&this.props.onWatched()},200),this.onTimeUpdate=(e=>{e.persist(),this._checkForConsumption(e)}),this.onVideoPlayable=(e=>{this.props.metadata||this.sendTransformedMetadata(e),this.props.started||this.props.onPlayable(e.timeStamp)}),this.loadStarted=(e=>{this.props.onLoadStarted(e.timeStamp)}),this.sendTransformedMetadata=(e=>{this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})}),this.onPaused=(e=>{this.props.onPaused()}),this.onPlaying=(e=>{this.props.loadTimes||this.onVideoPlayable(e),this.props.metadata||this.sendTransformedMetadata(e),this.props.onPlaying()}),this.renderVideoPlayer=(()=>{var e=this.props;const t=e.showCentered,s=e.isListing,n={};return t&&(n.margin="0 auto"),s||(n.maxHeight=`${u.e}px`),o.a.createElement(w,{autoplay:this.props.autoplayPref,className:Object(l.a)(h.b,O.a.styledVideo),height:this.props.height,isListing:this.props.isListing,isNotCardView:this.props.isNotCardView,key:this.props.postId,loop:!0,onBufferingChange:this.props.onBufferingChanged,onLoadStart:this.loadStarted,onLoadedData:this.onVideoPlayable,onLoadedMetadata:this.sendTransformedMetadata,onPause:this.props.onPaused,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,shouldLoad:this.props.shouldLoad,shouldPause:this.props.shouldPause,showCentered:this.props.showCentered,showFull:this.props.showFull,source:this.props.source,style:n,width:this.props.width})})}render(){return this.props.isListing?this.renderVideoPlayer():o.a.createElement("div",{className:Object(l.a)(O.a.container,this.props.className,{[O.a.centered]:this.props.showCentered})},o.a.createElement("a",{href:this.props.originalSource,target:"_blank"},this.renderVideoPlayer()))}})},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,s){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/lib/classNames/index.ts"),o=s("./src/higherOrderComponents/addOverlayEvents.tsx"),i=s("./src/reddit/components/InfoTextTooltip/index.tsx"),c=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),l=s("./src/reddit/i18n/utils.ts"),d=s("./src/reddit/components/RichTextJson/SpoilerText.m.less"),h=s.n(d),u=s("./src/lib/lessComponent.tsx"),p=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const m=["left","top"],g=["left","bottom"],x=u.a.span("InnerSpan",h.a),f=u.a.span("TooltipTarget",h.a),b=u.a.span("SpoilerWrapper",h.a),w=u.a.wrapped(e=>{var t=e.className,s=e.isOpen,n=p(e,["className","isOpen"]);return r.a.createElement(b,Object.assign({},n,{className:Object(a.a)(t,{[h.a.isOpen]:s})}))},"SpoilerWrapper",h.a),y=Object(c.a)(u.a.wrapped(i.b,"Component",h.a),[o.a.Click,o.a.Keydown]);t.a=class extends r.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=(e=>{this.state.isOpen||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}))}),this.setTooltipTargetRef=(e=>this.tooltipTargetElement=e),this.onShowTooltip=(()=>{this.state.isOpen||this.setState({showTooltip:!0})}),this.onHideTooltip=(()=>{this.setState({showTooltip:!1})}),this.state={isOpen:!1,showTooltip:!1}}render(){var e=this.state;const t=e.isOpen,s=e.showTooltip;return r.a.createElement(w,{isOpen:t,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},r.a.createElement(x,null,r.a.createElement(f,{innerRef:this.setTooltipTargetRef}),r.a.createElement(y,{isOpen:s,tooltipTarget:this.tooltipTargetElement,text:Object(l.c)("Reveal spoiler"),targetPosition:m,tooltipPosition:g}),this.props.children))}}},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,s){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,s){"use strict";s.d(t,"w",function(){return l}),s.d(t,"e",function(){return d}),s.d(t,"h",function(){return h}),s.d(t,"k",function(){return u}),s.d(t,"c",function(){return p}),s.d(t,"j",function(){return m}),s.d(t,"g",function(){return g}),s.d(t,"v",function(){return x}),s.d(t,"i",function(){return f}),s.d(t,"b",function(){return b}),s.d(t,"f",function(){return w}),s.d(t,"u",function(){return y}),s.d(t,"d",function(){return O}),s.d(t,"l",function(){return E}),s.d(t,"m",function(){return j}),s.d(t,"n",function(){return v}),s.d(t,"t",function(){return _}),s.d(t,"p",function(){return C}),s.d(t,"o",function(){return P}),s.d(t,"q",function(){return T}),s.d(t,"s",function(){return L}),s.d(t,"r",function(){return S}),s.d(t,"a",function(){return B});var n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/reddit/controls/OutboundLink/index.tsx"),o=s("./src/reddit/components/RichTextJson/elements.m.less"),i=s.n(o),c=s("./src/lib/lessComponent.tsx");const l=[c.a.div("H1",i.a),c.a.div("H2",i.a),c.a.div("H3",i.a),c.a.div("H4",i.a),c.a.div("H5",i.a),c.a.div("H6",i.a)],d=c.a.hr("Hr",i.a),h=c.a.code("M",i.a),u=c.a.pre("Pre",i.a),p=c.a.blockquote("Blockquote",i.a),m=c.a.p("P",i.a),g=c.a.li("Li",i.a),x=c.a.ul("Ul",i.a),f=c.a.ol("Ol",i.a),b=c.a.strong("B",i.a),w=c.a.em("I",i.a),y=c.a.span("U",i.a),O=e=>r.a.createElement("del",Object.assign({},e)),E=c.a.sub("Sub",i.a),j=c.a.sup("Sup",i.a),v=c.a.table("Table",i.a),_=c.a.tr("Tr",i.a),C=c.a.td("Tdl",i.a),P=c.a.td("Tdc",i.a),T=c.a.td("Tdr",i.a),L=c.a.th("Thl",i.a),S=c.a.th("Thc",i.a),B=(c.a.th("Thr",i.a),c.a.wrapped(e=>r.a.createElement(a.a,Object.assign({},e,{isSponsored:!1,source:null})),"A",i.a))},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,s){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/findLastIndex.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),i=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/lib/raven/index.ts"),d=s("./src/reddit/constants/elementClassNames.ts"),h=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),u=s("./src/reddit/helpers/styles/smartTextColor.ts"),p=s("./src/reddit/models/RichTextJson/index.ts"),m=s("./src/config.ts"),g=s("./src/reddit/components/HTML5StreamPlayer/index.tsx"),x=s("./src/reddit/components/Media/EmbedBox/index.tsx"),f=s("./src/reddit/components/Media/ImageBox/index.tsx"),b=s("./src/reddit/components/Media/MediaContainer/index.tsx"),w=s("./src/reddit/components/Media/VideoBox/index.tsx"),y=s("./src/reddit/helpers/richTextJson/index.ts"),O=s("./src/reddit/i18n/utils.ts"),E=s("./src/reddit/components/RichTextJson/elements.tsx"),j=s("./src/reddit/components/RichTextJson/media.m.less"),v=s.n(j),_=s("./src/lib/lessComponent.tsx"),C=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const P=/\/(\w+)\/asset\/(\w+)\//,T=_.a.wrapped(E.a,"A",v.a),L=_.a.wrapped(f.a,"ImageBox",v.a),S=_.a.wrapped(e=>{var t=e.className,s=e.width,n=C(e,["className","width"]);return o.a.createElement(b.a,Object.assign({className:t,width:s},n))},"MediaContainer",v.a),B=_.a.wrapped(e=>o.a.createElement("p",Object.assign({},e)),"Caption",v.a),M=_.a.div("Placeholder",v.a),k=_.a.wrapped(e=>{var t=e.className,s=e.e,n=C(e,["className","e"]);const r=s===p.C?Object(O.c)("Processing video..."):Object(O.c)("Processing image...");return o.a.createElement(M,Object.assign({className:t,style:{"--placeholder-content-text":`'${r}'`}},n))},"Placeholder",v.a),I=({c:e,x:t,y:s})=>o.a.createElement(S,{height:s,width:t,isListing:!1,showCentered:!0,showFull:!0},o.a.createElement(x.a,{isListing:!1,source:e,height:s,width:t,showCentered:!0,showFull:!0})),N=(e,t)=>{const s=e.c;let n="";return t&&(t.e===p.s?n=t.s.u:t.e===p.r?n=t.s.gif:t.e===p.t&&(n=(e=>{const t=P.exec(e);return t?`${m.a.redditUrl}/link/${t[1]}/video/${t[2]}/player`:""})(t.dashUrl))),n?o.a.createElement(T,{title:s,href:n},s||n):null},H=(e,t,s,n)=>{const r=p.D(t,e.id);if(s)return[N(e,r)];const a=[];return r?r.e===p.s?a.push((({id:e,s:t})=>o.a.createElement(S,{height:t.y,width:t.x,isListing:!1,showCentered:!0,showFull:!0},o.a.createElement(L,{originalSource:t.u,postId:e,source:t.u,height:t.y,width:t.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1})))(r)):r.e===p.r?a.push((({id:e,ext:t,s})=>{const n=Object(y.d)(e),r=n?t||Object(y.c)(e):s.mp4;return n&&!s.mp4?o.a.createElement(T,{href:r,target:"_blank"},r):o.a.createElement(S,{height:s.y,width:s.x,isListing:!1,showCentered:!n,showFull:!0},o.a.createElement(w.a,{className:n?v.a.giphy:void 0,height:s.y,isListing:!1,isNotCardView:!0,originalSource:r,width:s.x,postId:e,source:s.mp4,shouldPause:!1,showCentered:!n,shouldLoad:!0,showFull:!0}))})(r)):r.e===p.t&&a.push((({hlsUrl:e,dashUrl:t,x:s,y:n,isGif:r})=>o.a.createElement(S,{height:n,width:s,isListing:!1,showCentered:!0,showFull:!0},o.a.createElement(g.b,{shouldLoad:!0,shouldPause:!0,autoPlay:r,hlsSource:e,mpegDashSource:t,isGif:r})))(r)):a.push(((e,t="en")=>o.a.createElement(k,{e,language:t}))(e.e,n)),e.c&&a.push((e=>o.a.createElement(B,null,e))(e.c)),a};var F=s("./node_modules/lodash/reduce.js"),D=s.n(F),W=s("./src/reddit/components/TrackingHelper/index.tsx"),U=s("./src/reddit/models/Product/index.ts"),R=s("./src/reddit/selectors/telemetry.ts");var J=Object(W.b)(class extends o.a.Component{constructor(){super(...arguments),this.onClick=(()=>this.sendEvent("click")),this.onMouseOver=(()=>{this.hoverTimeout&&this.onMouseOut(),this.hoverTimeout=window.setTimeout(()=>{this.sendEvent("view")},1e3)}),this.onMouseOut=(()=>{window.clearTimeout(this.hoverTimeout),this.hoverTimeout=void 0}),this.sendEvent=(e=>{this.props.sendEvent(t=>{const s=R.defaults(t);return Object.assign({source:"meta",action:e,noun:"emote"},s,{actionInfo:Object.assign({},s.actionInfo,{reason:this.props.node.id}),subreddit:R.subreddit(t)})})})}render(){var e=this.props;const t=e.node,s=e.media;let n,r,a;return s.e===p.s?(n=s.s.x,r=s.s.y,a=s.s.u):s.e===p.r&&(n=s.s.x,r=s.s.y,a=s.s.gif),a?o.a.createElement("img",{src:a,width:n,height:r,style:{verticalAlign:"middle"},title:`:${Object(U.b)(t.id)}:`,onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}):null}}),X=s("./src/lib/unicodeUtils/index.ts"),G=s("./src/reddit/components/RichTextJson/SpoilerText.tsx"),V=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(s.push(o.value),!t||s.length!==t);n=!0);}catch(c){r=!0,a=c}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const A=e=>{const t=e.c||[],s=e.l,n=[],r=t.length;for(let o=0;o<r;o++){const e=t[o];n.push(e.e===p.w?e.t:ne(e))}const a=E.w[s-1];return o.a.createElement(a,null,n)},Y=()=>o.a.createElement(E.e,null),$=(e,t)=>{const s=e.c;if(!s)return;const n=s.length,r=[];for(let a=0;a<n;a++)r.push(Z(s[a],t));return o.a.createElement(E.c,null,r)},q=e=>{const t=e.c;return o.a.createElement(E.k,null,o.a.createElement(E.h,null,t.reduce((e,t,s,n)=>e+=t.t+(s<n.length?"\n":""),"")))},Q=(e,t)=>{const s=e.c,n=[],r=s.length;for(let i=0;i<r;i++){const e=s[i].c;e&&e.length&&n.push(o.a.createElement(E.g,null,e.map(e=>Z(e,t))))}const a=e.o?E.i:E.v;return o.a.createElement(a,null,n)},Z=(e,t)=>{switch(e.e){case p.b:return $(e,t);case p.c:return q(e);case p.k:return A(e);case p.l:return Y();case p.p:return Q(e,t);case p.u:return ee(e,t);case p.z:return K(e,t)}},K=(e,t)=>{const s=e.c,n=e.h,r=s.length,a=n.length,i=[],c=[],l=[];for(let p=0;p<a;p++){const e=n[p];var d=ie(e.a);const s=d.H,r=d.D;var h=e.c;const a=void 0===h?[]:h;i.push(o.a.createElement(s,null,te(a,t))),l[p]=r}for(let p=0;p<r;p++){const e=s[p],n=e.length,r=[];for(let s=0;s<n;s++){const n=l[s];var u=e[s].c;const a=void 0===u?[]:u;r.push(o.a.createElement(n,null,te(a,t)))}c.push(o.a.createElement(E.t,null,r))}return o.a.createElement(E.n,null,o.a.createElement("thead",null,o.a.createElement(E.t,null,i)),o.a.createElement("tbody",null,c))},z=o.a.createElement(E.j,null,o.a.createElement("br",null)),ee=(e,t)=>{if(!e.c||!e.c.length)return z;const s=e.c[0];return s.e!==p.m&&s.e!==p.a||!Object(y.d)(s.id)?o.a.createElement(E.j,null,te(e.c,t)):H(s,t)},te=(e,t)=>{const s=[],n=e.length;for(let r=0;r<n;r++){const n=e[r];if(n.e===p.A)s.push(re(n));else if(n.e===p.x)s.push(o.a.createElement(G.a,null,te(n.c,t)));else if(n.e===p.n)s.push(o.a.createElement("br",null));else if(n.e===p.m||n.e===p.a){if(n.id.startsWith("emote|")){const e=p.D(t,n.id);e&&s.push(o.a.createElement(J,{node:n,media:e}))}}else s.push(ne(n))}return s},se=(e,t)=>{const s=`${t}/${e.t}`;return o.a.createElement(E.a,{href:`/${s}/`},`${e.l?"/":""}${s}`)},ne=e=>{switch(e.e){case p.o:return o.a.createElement(E.a,{title:e.a,href:e.u},re({t:e.t,f:e.f}));case p.y:return se(e,"r");case p.B:return se(e,"u");case p.g:case p.v:return o.a.createElement(E.a,{href:e.t},e.t)}},re=e=>{const t=e.f,s=e.t,n=[];if(!t)return oe(0,s);const r=Object(X.a)(s);let a=0,o=0;const i=t.length;for(;a<i;a++){var c=V(t[a],3);const e=c[0],i=c[1],l=i+c[2],d=r[i],h=r[l]-d;d>o&&n.push(oe(0,s.substr(o,d-o))),n.push(oe(e,s.substr(d,h))),o=d+h}return o<s.length&&n.push(oe(0,s.substr(o))),n},ae={[p.j.monospace]:E.h,[p.j.bold]:E.b,[p.j.italic]:E.f,[p.j.underline]:E.u,[p.j.strikethrough]:E.d,[p.j.subscript]:E.l,[p.j.superscript]:E.m},oe=(e,t)=>{let s=t;return s=D()(ae,(t,s,n)=>e&parseInt(n,10)?o.a.createElement(s,null,t):t,s)},ie=e=>{switch(e){case p.f:return{H:E.r,D:E.q};case p.d:return{H:E.r,D:E.o};case p.e:default:return{H:E.r,D:E.p}}};var ce=s("./src/reddit/components/RichTextJson/index.m.less"),le=s.n(ce);s.d(t,"a",function(){return ge});var de=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s};const he=_.a.div("Container",le.a),ue=Object(c.a)(e=>o.a.createElement(he,Object.assign({},e,{style:{color:Object(u.a)(Object(h.a)(e))}}))),pe=e=>e.e===p.k?!!e.c&&!e.c.every(e=>!e.t):e.e!==p.u||!!e.c&&!e.c.every(e=>e.e===p.A&&!e.t),me=e=>{const t=e.className,s=e.content,n=e.language,a=e.renderMediaAsLinks,c=e.useExplicitTextColor,l=s.document,h=[],u=e.mediaMetadata||null,m=(e=>e.findIndex(pe))(l),g=(e=>r()(e,pe))(l);if(-1!==m)for(let r=m;r<=g;r++){const e=l[r];switch(e.e){case p.k:h.push(A(e));break;case p.l:h.push(Y());break;case p.b:h.push($(e,u));break;case p.c:h.push(q(e));break;case p.p:h.push(Q(e,u));break;case p.z:h.push(K(e,u));break;case p.u:h.push(ee(e,u));break;case p.h:h.push(I(e));break;case p.m:case p.a:case p.C:h.push(...H(e,u,a,n))}}return c?o.a.createElement(he,{className:Object(i.a)(d.k,t)},h):o.a.createElement(ue,{className:Object(i.a)(d.k,t),flairStyleTemplate:e.flairStyleTemplate},h)};class ge extends o.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=(()=>"Something went wrong while trying to render this")}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){Object(l.b)(e,{extra:{objectInfo:this.props.renderingObjectInfo},tags:{rtjson:"rendering"}})}render(){const e=this.props;e.renderingObjectInfo;var t=e.renderFallback;const s=void 0===t?this.renderDefaultFallback:t,n=de(e,["renderingObjectInfo","renderFallback"]);if(this.hasError||this.state.hasError)return s();try{return me(n)}catch(r){return this.hasError=!0,this.logError(r),s()}}}},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,s){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaContainer:"_1uZBAwg0skEanBXfZsIWJh",mediaContainer:"_1uZBAwg0skEanBXfZsIWJh",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",giphy:"_3J81Ds3WITP7zlq_PlUmGf"}}}]);
//# sourceMappingURL=ChatPost~CollectionCommentsPage~CommentsPage~Explore~Frontpage~GovernanceReleaseNotesModal~ModListin~44a849ee.47976660be5cd6858268.js.map